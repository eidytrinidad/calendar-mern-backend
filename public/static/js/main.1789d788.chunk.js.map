{"version":3,"sources":["helpers/fetch.js","types/types.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.jsx","helpers/calendar-messages.js","components/calendar/CalendarEvent.jsx","actions/ui.js","components/calendar/CalendarModal.jsx","components/ui/NavBar.jsx","components/ui/AddNewFab.jsx","components/ui/DeleteEventFab.jsx","components/calendar/CalendarScreen.jsx","route/PrivateRoute.jsx","route/PublicRoute.jsx","route/AppRouter.jsx","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducers.js","store/store.js","CalendarApp.jsx","index.js"],"names":["baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","types","prepareEvents","events","map","e","end","moment","toDate","start","eventAddNew","event","type","payload","eventClearActiveEvent","eventDeleted","eventUpdated","eventLoaded","checkingFinish","login","user","startLogout","dispatch","clear","logout","useForm","initialState","useState","values","setvalues","reset","handleInputChange","target","name","value","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","msg","Swal","fire","placeholder","onChange","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","modalOpen","useSelector","state","ui","activeEvent","calendar","formValues","setFormValues","useEffect","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","id","console","log","getState","auth","evento","_id","eventStartAddNew","minDate","autoComplete","rows","NavBar","onClick","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","boderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onSelectSlot","selectable","onView","view","components","PrivateRoute","Component","component","isLoggedIn","rest","props","to","PublicRoute","AppRouter","checking","exact","path","rootReducer","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","ReactDOM","render","CalendarApp","document","getElementById"],"mappings":"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","file":"static/js/main.1789d788.chunk.js","sourcesContent":["\r\nconst baseUrl= process.env.REACT_APP_API_URL\r\n\r\nconst fetchSinToken=(endpoint,data,method=\"GET\")=>{\r\n\r\n    const url=`${baseUrl}/${endpoint}`\r\n\r\n    if (method==='get') {\r\n        return fetch(url)\r\n    }else{\r\n        return fetch(url,{\r\n            method,\r\n            headers:{\r\n                'Content-type':'application/json'\r\n            },\r\n            body:JSON.stringify(data)\r\n        })\r\n    }\r\n\r\n}\r\n\r\nconst fetchConToken=(endpoint,data,method=\"GET\")=>{\r\n\r\n    const url=`${baseUrl}/${endpoint}`\r\n    const token=localStorage.getItem('token') || ''\r\n\r\n    if (method==='get') {\r\n        return fetch(url,{\r\n            method,\r\n            headers:{\r\n                'x-token':token\r\n            }\r\n        })\r\n    }else{\r\n        return fetch(url,{\r\n            method,\r\n            headers:{\r\n                'Content-type':'application/json',\r\n                'x-token':token\r\n                \r\n            },\r\n            body:JSON.stringify(data)\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\nexport{\r\n    fetchSinToken,\r\n    fetchConToken\r\n}","export const types={\r\n    uiOpenModal:'[ui] Open modal',\r\n    uiCloseModal:'[ui] Close modal',\r\n\r\n    eventStartAddNew:'[event] add new]',\r\n    eventAddNew:'[event] add new]',\r\n    eventSetActive:'[event] set Active',\r\n    eventClearActiveEvent:'[event] clear active event',\r\n    eventUpdated:'[event] clear Update event',\r\n    eventDeleted:'[event] events deleted',\r\n    eventLoaded:'[event] events loaded',\r\n    eventLogout:'[event] events logout',\r\n    \r\n    authCheckingFinish:'[auth] Finish checking login state',\r\n    authStartLogin:'[auth] Start Login',\r\n    authLogin:'[auth] Login',\r\n    authStartRegister:'[auth] StartRegister',\r\n    authStartTokenRenew:'[auth] Start Token Renew',\r\n    authLogout:'[auth] Logout',\r\n    \r\n\r\n}","import moment from 'moment'\r\n\r\nconst prepareEvents = (events=[]) => {\r\n   \r\n    // console.log(events)\r\n    return events.map(e=>({\r\n        ...e,\r\n        end:moment(e.end).toDate(),\r\n        start:moment(e.start).toDate(),\r\n    }))\r\n}\r\n \r\nexport default prepareEvents;","import Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport prepareEvents from \"../helpers/prepareEvents\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const eventStartAddNew = (e) => {\r\n  return async (dispatch, getState) => {\r\n    const { uid, name } = getState().auth;\r\n\r\n    try {\r\n      const resp = await fetchConToken(\"events\", e, \"post\");\r\n      const body = await resp.json();\r\n\r\n      if (body.ok) {\r\n        e.id = body.evento.id;\r\n        e.user = {\r\n          _id: uid,\r\n          name,\r\n        };\r\n        dispatch(eventAddNew(e));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nconst eventAddNew = (event) => ({\r\n  type: types.eventAddNew,\r\n  payload: event,\r\n});\r\n\r\nexport const eventSetActive = (event) => ({\r\n  type: types.eventSetActive,\r\n  payload: event,\r\n});\r\n\r\nexport const eventClearActiveEvent = () => ({\r\n  type: types.eventClearActiveEvent,\r\n});\r\n\r\nexport const eventStartDelete = () => {\r\n  return async (dispatch,getState) => {\r\n\r\n    const {id}=getState().calendar.activeEvent\r\n\r\n    console.log(id)\r\n\r\n    try {\r\n      const resp = await fetchConToken(`events/${id}`, {}, \"DELETE\");\r\n      const body = await resp.json();\r\n\r\n      if (body.ok) {\r\n        dispatch(eventDeleted());\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nconst eventDeleted = () => ({\r\n  type: types.eventDeleted,\r\n});\r\n\r\nexport const eventStartUpdate = (event) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`events/${event.id}`, event, \"PUT\");\r\n      const body = await resp.json();\r\n\r\n      if (body.ok) {\r\n        dispatch(eventUpdated(event));\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nconst eventUpdated = (event) => ({\r\n  type: types.eventUpdated,\r\n  payload: event,\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(\"events\");\r\n      const body = await resp.json();\r\n\r\n      const events = prepareEvents(body.eventos);\r\n\r\n      dispatch(eventLoaded(events));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nconst eventLoaded = (events) => ({\r\n  type: types.eventLoaded,\r\n  payload: events,\r\n});\r\n\r\nexport const eventLogout=()=>(\r\n    {\r\n        type:types.eventLogout\r\n    }\r\n)","import {\r\n    fetchConToken,\r\n    fetchSinToken\r\n} from \"../helpers/fetch\";\r\nimport {\r\n    types\r\n} from \"../types/types\";\r\n\r\nimport Swal from \"sweetalert2\";\r\nimport { eventLogout } from \"./events\";\r\n\r\nexport const startLogin = (email, password) => {\r\n    return async (dispatch) => {\r\n        const resp = await fetchSinToken(\"auth\", {\r\n            email,\r\n            password\r\n        }, \"POST\");\r\n\r\n        const body = await resp.json();\r\n\r\n        // const emailEmpty = body.errors.email.msg.toString() !==undefined;\r\n        // const passEmpty = body.errors.password.msg.toString()!==undefined;\r\n\r\n        if (body.ok) {\r\n            localStorage.setItem(\"token\", body.token);\r\n            localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\r\n            dispatch(\r\n                login({\r\n                    uid: body.uid,\r\n                    name: body.name,\r\n                })\r\n            );\r\n        } else {\r\n            if (body.msg) {\r\n                Swal.fire(\"Error\", body.msg, \"error\");\r\n            }\r\n        }\r\n        \r\n    };\r\n};\r\n\r\nexport const startRegister = (email, password, name) => {\r\n    return async (dispatch) => {\r\n        const resp = await fetchSinToken(\r\n            \"auth/new\", {\r\n                email,\r\n                password,\r\n                name\r\n            },\r\n            \"POST\"\r\n        );\r\n        const body = await resp.json();\r\n\r\n        if (body.ok) {\r\n            localStorage.setItem(\"token\", body.token);\r\n            localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\r\n            dispatch(\r\n                login({\r\n                    uid: body.uid,\r\n                    name: body.name,\r\n                })\r\n            );\r\n        } else {\r\n            Swal.fire(\"Error\", body.msg, \"error\");\r\n        }\r\n    };\r\n};\r\n\r\nexport const startChecking = () => {\r\n    return async (dispatch) => {\r\n        const resp = await fetchConToken(\"auth/renew\");\r\n        const body = await resp.json();\r\n\r\n        if (body.ok) {\r\n            localStorage.setItem(\"token\", body.token);\r\n            localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\r\n            dispatch(\r\n                login({\r\n                    uid: body.uid,\r\n                    name: body.name,\r\n                })\r\n            );\r\n        } else {\r\n            dispatch(checkingFinish());\r\n        }\r\n    };\r\n};\r\n\r\nconst checkingFinish = () => ({\r\n    type: types.authCheckingFinish,\r\n});\r\n\r\nconst login = (user) => ({\r\n    type: types.authLogin,\r\n    payload: user,\r\n});\r\n\r\nexport const startLogout = () => {\r\n    return (dispatch) => {\r\n        localStorage.clear();\r\n        dispatch(eventLogout())\r\n        dispatch(logout());\r\n    };\r\n};\r\n\r\nexport const logout = () => ({\r\n    type: types.authLogout,\r\n});","import { useState } from \"react\"\r\n\r\n\r\nexport const useForm = (initialState={}) => {\r\n\r\n    const [values, setvalues] = useState(initialState)\r\n\r\n    const reset =()=>{\r\n        setvalues(initialState)\r\n    }\r\n \r\n    const handleInputChange=({target})=>{\r\n \r\n        setvalues({\r\n            ...values,\r\n            [target.name]:target.value\r\n        })\r\n\r\n    }\r\n\r\n    return [values,handleInputChange,reset]\r\n\r\n}\r\n //Forma de Uso en la aplicacion\r\n \r\n//   const [formValues,handleInputChange,reset] = useForm({\r\n//     search:''\r\n// })\r\n\r\n// const {search} =formValues;\r\n\r\n//<input  type=\"text\"\r\n//        name:\"search\"  Dont Forget the Name Attribute\r\n//        value={search}\r\n//        onChange={handleInputChange}\r\n//               />","import React from \"react\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport \"./login.css\";\r\nimport {useDispatch} from 'react-redux'\r\nimport { startLogin, startRegister } from \"../../actions/auth\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const LoginScreen = () => {\r\n\r\n\r\nconst dispatch = useDispatch()\r\n\r\nconst [formLoginValues,handleLoginInputChange] = useForm({\r\n    lEmail:'eidyjtf@gmail.com',\r\n    lPassword:'123456',\r\n})\r\n\r\nconst [formRegisterValues,handleRegisterInputChange] = useForm({\r\n    rName:\"Pedro\",\r\n    rEmail:'pedro@gmail.com',\r\n    rPassword1:'123456',\r\n    rPassword2:'123456',\r\n})\r\n\r\nconst {lEmail,lPassword} =formLoginValues;\r\nconst {rName,rEmail,rPassword1,rPassword2,} =formRegisterValues;\r\n\r\n\r\nconst handleLogin=(e)=>{\r\n    e.preventDefault()\r\n    dispatch(startLogin(lEmail,lPassword))\r\n    \r\n}\r\n\r\nconst handleRegister = (e) => { \r\n    e.preventDefault()\r\n\r\n    if(rPassword1!==rPassword2){\r\n        return Swal.fire('Error','Las Contraseñas deben ser iguales','error')\r\n    }\r\n    dispatch(startRegister(rEmail,rPassword1,rName))\r\n}\r\n \r\n\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 login-form-1\">\r\n          <h3>Ingreso</h3>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"lEmail\"\r\n                value={lEmail}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"lPassword\"\r\n                value={lPassword}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"col-md-6 login-form-2\">\r\n          <h3>Registro</h3>\r\n          <form onSubmit={handleRegister}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Nombre\"\r\n                value={rName}\r\n                name='rName'\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                value={rEmail}\r\n                name='rEmail'\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                value={rPassword1}\r\n                name='rPassword1'\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Repita la contraseña\"\r\n                value={rPassword2}\r\n                name='rPassword2'\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const messages = {\r\n    allDay: 'Todo el día',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'Día',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver más (${total})`\r\n};","import React from 'react'\r\n\r\nexport const CalendarEvent = ({event}) => {\r\n    const {title,user}=event\r\n    return (\r\n        <div>\r\n            <strong>{title}</strong>\r\n            <span> - {user.name}</span>\r\n        </div>\r\n    )\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\n\r\nexport const uiOpenModal=()=>(\r\n    {\r\n        type:types.uiOpenModal\r\n    }\r\n)\r\n\r\nexport const uiCloseModal=()=>(\r\n    {\r\n        type:types.uiCloseModal\r\n    }\r\n)","import React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport Modal from \"react-modal\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport Swal from 'sweetalert2'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { eventStartAddNew, eventClearActiveEvent, eventStartUpdate } from \"../../actions/events\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst nowPlus1 = now.clone().add(1,'hours')\r\nconst initEvent={\r\n  title:\"\",\r\n  notes:\"\",\r\n  start:now.toDate(),\r\n  end:nowPlus1.toDate(),\r\n\r\n}\r\n\r\nexport const CalendarModal = () => {\r\n\r\n  const [dateStart, setDateStart] = useState(now.toDate())\r\n  const [dateEnd, setDateEnd] = useState(nowPlus1.toDate())\r\n  const [titleValid, setTitleValid] = useState(true)\r\n\r\n  const {modalOpen} = useSelector(state => state.ui)\r\n  const {activeEvent} = useSelector(state => state.calendar)\r\n \r\n  const dispatch = useDispatch()\r\n\r\n  const [formValues, setFormValues] = useState(initEvent)\r\n\r\n  const {notes,title,start,end}=formValues\r\n\r\n  useEffect(() => {\r\n\r\n    if (activeEvent) {\r\n      setFormValues(activeEvent)\r\n    }\r\n    else{\r\n      setFormValues(initEvent)\r\n    }\r\n\r\n  }, [activeEvent,setFormValues])\r\n\r\n  const handleInputChange=({target})=>{\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]:target.value\r\n    })\r\n  }\r\n\r\n  const closeModal = () => {\r\n    dispatch(eventClearActiveEvent())\r\n    dispatch(uiCloseModal())\r\n    setFormValues(initEvent)\r\n  };\r\n\r\n  const handleStartDateChange = (e) => {\r\n   setDateStart(e)\r\n   setFormValues({\r\n     ...formValues,\r\n     start:e\r\n   })\r\n  };\r\n\r\n  const handleEndDateChange = (e) => {\r\n    setDateEnd(e)\r\n    setFormValues({\r\n      ...formValues,\r\n      end:e\r\n    })\r\n   };\r\n\r\n   const handleSubmitForm = (e) => {\r\n     e.preventDefault()\r\n  \r\n     const momentStart=moment(start)\r\n     const momentEnd=moment(end)\r\n\r\n     if (momentStart.isSameOrAfter(momentEnd)) {\r\n      return Swal.fire(\"Error\",\"La Fecha fin debe ser mayor a la fecha de inicio\",\"error\")\r\n       \r\n     } \r\n\r\n     if (title.trim().length<2) {\r\n       return setTitleValid(false)\r\n     }\r\n\r\n     //Realizar Grabacion\r\n     if (activeEvent) {\r\n       dispatch(eventStartUpdate(formValues))\r\n     }\r\n     else{\r\n      dispatch(eventStartAddNew(formValues))\r\n     }\r\n    \r\n     setTitleValid(true)\r\n     closeModal()\r\n\r\n   };\r\n\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={modalOpen}\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <h1> {activeEvent ? 'Editar Evento' : \"Nuevo evento\"} </h1>\r\n      <hr />\r\n      <form className=\"container\" onSubmit={handleSubmitForm}>\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora inicio</label>\r\n          <DateTimePicker\r\n            onChange={handleStartDateChange}\r\n            value={dateStart}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora fin</label>\r\n          <DateTimePicker\r\n            onChange={handleEndDateChange}\r\n            value={dateEnd}\r\n            minDate={dateStart}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"form-group\">\r\n          <label>Titulo y notas</label>\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control  ${!titleValid &&  'is-invalid'}`}\r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={title}\r\n            onChange={handleInputChange}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Una descripción corta\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows=\"5\"\r\n            name=\"notes\"\r\n            value={notes}\r\n            onChange={handleInputChange}\r\n          ></textarea>\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Información adicional\r\n          </small>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"far fa-save\"></i>\r\n          <span> Guardar</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { startLogout } from '../../actions/auth'\r\n\r\n\r\nexport const NavBar = () => {\r\n\r\n    const {name} = useSelector(state => state.auth)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleLogout=()=>{\r\n        dispatch(startLogout())\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n            <span className=\"navbar-brand\">{name}</span>\r\n            <button \r\n            onClick={handleLogout}\r\n            className=\"btn btn-outline-danger\">\r\n                <i className=\"fa fa-sign-out-alt\"></i> \r\n                <span>Salir</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { uiOpenModal } from '../../actions/ui'\r\n\r\nexport const AddNewFab = () => {\r\n    \r\n    const dispatch = useDispatch()\r\n\r\n    const handleClick=()=>{\r\n        dispatch(uiOpenModal())\r\n    }\r\n    return (\r\n        <button \r\n        onClick={handleClick}\r\n        className=\"btn btn-primary fab\" >\r\n            <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport {  eventStartDelete } from '../../actions/events'\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleDelete = () => {\r\n       dispatch(eventStartDelete())\r\n    }\r\n\r\n    return (\r\n       <button \r\n       onClick={handleDelete}\r\n       className=\"btn btn-danger fab-danger\">\r\n           <i className=\"fas fa-trash\"></i>\r\n            <span>Borrar Evento</span>\r\n       </button>\r\n    )\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\n//Moment\r\nimport {Calendar,momentLocalizer} from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\r\nimport { messages} from '../../helpers/calendar-messages'\r\nimport 'moment/locale/es'\r\n//Componentes\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\nimport { CalendarModal } from \"./CalendarModal\";\r\nimport { NavBar } from \"../ui/NavBar\";\r\n//Hook y redux\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {uiOpenModal} from '../../actions/ui'\r\nimport { eventClearActiveEvent, eventSetActive, eventStartLoading } from \"../../actions/events\";\r\nimport { AddNewFab } from \"../ui/AddNewFab\";\r\nimport { useEffect } from \"react\";\r\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\r\n\r\nmoment.locale('es')\r\n\r\nconst localizer = momentLocalizer(moment); \r\n\r\nexport const CalendarScreen = () => {\r\n    \r\n    const [lastView, setLastView] = useState( localStorage.getItem('lastView') || 'month')\r\n    const {events,activeEvent} = useSelector(state => state.calendar)\r\n    const {uid} = useSelector(state => state.auth)\r\n  \r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n      dispatch(eventStartLoading())\r\n    }, [dispatch])\r\n\r\n\r\n    const onDoubleClick=e=>{\r\n     \r\n        dispatch(uiOpenModal())\r\n    }\r\n\r\n    const onSelectEvent=e=>{\r\n     dispatch(eventSetActive(e))\r\n      \r\n    }\r\n    const onViewChange=e=>{\r\n        setLastView(e)\r\n      localStorage.setItem('lastView',e)\r\n    }\r\n\r\n    const onSelectSlot=(e)=>{\r\n      dispatch(eventClearActiveEvent())\r\n    }\r\n\r\n    const eventStyleGetter=(event,start,end,isSelected)=>{\r\n \r\n        const style={\r\n            backgroundColor:(uid===event.user._id)?'#367cf7':'#465660',\r\n            boderRadius:'0px',\r\n            opacity:0.8,\r\n            display:'block',\r\n            color:'white'\r\n        }\r\n        return{\r\n            style\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className='calendar-screen'>\r\n      <NavBar />\r\n\r\n      <Calendar\r\n        localizer={localizer}\r\n        events={events}\r\n        startAccessor=\"start\"\r\n        endAccessor=\"end\"\r\n        messages={ messages}\r\n        eventPropGetter={eventStyleGetter}\r\n        onDoubleClickEvent={onDoubleClick}\r\n        onSelectEvent={onSelectEvent}\r\n        onSelectSlot={onSelectSlot}\r\n        selectable={true}\r\n        onView={onViewChange}\r\n        view={lastView}\r\n        components={{\r\n            event:CalendarEvent\r\n        }}\r\n      />\r\n      <AddNewFab/>\r\n        {\r\n          activeEvent\r\n          &&\r\n           <DeleteEventFab/>\r\n        }\r\n      <CalendarModal/>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nexport const PrivateRoute = ({\r\n    component:Component,\r\n    isLoggedIn,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route\r\n        {...rest}\r\n        component={(props)=>(\r\n            (isLoggedIn)\r\n            ?\r\n            <Component {...props}/>\r\n            :\r\n            (<Redirect to='/login'/>)\r\n\r\n        )}\r\n        \r\n        \r\n        />\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nexport const PublicRoute = ({\r\n    component:Component,\r\n    isLoggedIn,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route\r\n        {...rest}\r\n        component={(props)=>(\r\n            (!isLoggedIn)\r\n            ?\r\n            <Component {...props}/>\r\n            :\r\n            (<Redirect to='/'/>)\r\n\r\n        )}\r\n        \r\n        \r\n        />\r\n    )\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { BrowserRouter as Router, Redirect, Switch } from \"react-router-dom\";\r\nimport { startChecking } from \"../actions/auth\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\n\r\n\r\nexport const AppRouter = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const {checking,uid} = useSelector(state => state.auth)\r\n\r\n  useEffect(() => {\r\n    dispatch(startChecking())\r\n  },[dispatch] )\r\n\r\n  if (checking) {\r\n    return <h5>Espere...</h5>\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n            <PublicRoute \r\n            isLoggedIn={!!uid}\r\n            exact path=\"/login\" \r\n            component={LoginScreen}/>\r\n            <PrivateRoute \r\n            isLoggedIn={!!uid}\r\n            exact path='/' \r\n            component={CalendarScreen}/>\r\n            <Redirect to='/'/>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  checking: true,\r\n  // uid:null,\r\n  // name:null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false,\r\n      };\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking:false\r\n      };\r\n      case types.authLogout:\r\n        return {\r\n       \r\n          checking:false\r\n        };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\n// {\r\n//     id:new Date().getTime(),\r\n//     title: \"Cumpleaños\",\r\n//     start: moment().toDate(),\r\n//     end: moment().add(2, \"hours\").toDate(),\r\n//     notes:\"Comprar El Pastel\",\r\n//\r\n//     user:{\r\n//         _id:'123',\r\n//         name:\"Eidy\"\r\n//     }\r\n//   }\r\nconst initialState = {\r\n  events: [],\r\n  activeEvent: null,\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload,\r\n      };\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        events: [...state.events, action.payload],\r\n      };\r\n    case types.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      };\r\n\r\n    case types.eventUpdated:\r\n      return {\r\n        ...state,\r\n        events: state.events.map((e) =>\r\n          e.id === action.payload.id ? action.payload : e\r\n        ),\r\n      };\r\n\r\n    case types.eventDeleted:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter((e) => e.id !== state.activeEvent.id),\r\n        activeEvent: null,\r\n      };\r\n    case types.eventLoaded:\r\n      return {\r\n        ...state,\r\n        events: action.payload,\r\n      };\r\n    case types.eventLogout:\r\n      return {\r\n        ...initialState\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState={\r\n    modalOpen:false\r\n}\r\n\r\n\r\nexport const uiReducer = (state=initialState,action) => {\r\n    switch (action.type) {\r\n\r\n        case types.uiOpenModal:\r\n        return {\r\n            ...state,\r\n            modalOpen:true\r\n        }\r\n        case types.uiCloseModal:\r\n        return {\r\n            ...state,\r\n            modalOpen:false\r\n        }\r\n        default:\r\n          return state;\r\n    }\r\n}\r\n \r\n","import {combineReducers} from 'redux'\r\nimport { authReducer } from './authReducer'\r\nimport { calendarReducer } from './calendarReducer'\r\nimport {uiReducer} from './uiReducer'\r\n\r\n\r\nexport const rootReducer=combineReducers({\r\n    ui:uiReducer,\r\n    calendar:calendarReducer,\r\n    auth:authReducer\r\n})","import { rootReducer } from \"../reducers/rootReducers\";\r\nimport { createStore,compose,applyMiddleware } from \"redux\";\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nconst composeEnhancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nexport const store=createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n)","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { AppRouter } from \"./route/AppRouter\";\nimport { store } from \"./store/store\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CalendarApp from \"./CalendarApp.jsx\";\n\nimport './style.css'\n\n\nReactDOM.render(\n\n    <CalendarApp />\n  ,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}